<html>
  <head>
    <title>do.proje.cx - Do Projects!</title>
    <script type="text/javascript" src="/js/jquery.js"></script>
    
    <script type="text/javascript">
    
      $(document).ready(function(){
            
        $(".posturl").click(function(event){
          $(this).css("height","0px").css("visibility", "hidden");
          $(this).siblings().filter(".posturlformdiv").css("visibility","visible").css("height","auto");
        });
        
        $(".posturlexplanation").mouseover(function(event){
          $(this).css("background-color","#ddd");
        }).mouseout(function(event){
          $(this).css("background-color","#fff");
        });
        
        $(".posturlform").submit(function (event){
          console.log( $(event.target).children().filter(".urlinput")[0].value );
          console.log( $(event.target).children().filter(".projectidinput")[0].value );
          
          $(this).parent().css("height","0px").css("visibility", "hidden");
          $(this).parent().siblings().filter(".posturl").css("visibility","visible").css("height","auto");
          
          return false;
        });
        
      });
    
    </script>
    
    <style type="text/css">
    
      #userstatus 
        {
           margin-bottom:5px;
           padding:2px;
           overflow:hidden;
           background-color:#ffeeee;
           border-bottom-style:solid;
           border-bottom-width:1px;
           border-bottom-color:#ffbbbb;
           border-right-style:solid;
           border-right-width:1px;
           border-right-color:#ffbbbb;
        }
        
      #header {
           margin-bottom:5px;
           padding:2px;
           overflow:hidden;
           background-color:#eeeeff;
           border-bottom-style:solid;
           border-bottom-width:1px;
           border-bottom-color:#bbbbff;
           border-right-style:solid;
           border-right-width:1px;
           border-right-color:#bbbbff;
      }
        
      #signedin {float:left}
      #logout {float:right}
      #content 
        {
          background-color:#ffffff;
          width:950px;
          display:block;
          margin:auto;
          padding:5px;
          min-height:950px;
        }
      a {text-decoration:none;}
      a:hover {text-decoration:underline}
      body {background-color:#eeeeee}
      h1{margin:0px;padding:5px;}
      
      #addprojectslink{
        background-color:#eeffee;
        text-size:large;
        padding: 2px;
        border-bottom-style:solid;
        border-bottom-width:1px;
        border-bottom-color:#ddffdd;
        border-right-style:solid;
        border-right-width:1px;
        border-right-color:#ddffdd;
      }
      
      #addproject{
        margin-bottom:10px;
      }
      
      #explanation{
        padding: 2px;
      }
      
      .extrainfo {
        padding-left:3px;
        padding-right:3px;
        background-color:#f6f6f6;
      }
      
      ul {
        list-style-type:none;
        padding-left:10px;
      }
      
      .posturlexplanation {
        font-size: 12px;
        font-style: italic;
        padding:2px;
        color:#888;
      }
      
      .posturlformdiv {
        height:0px;
        visibility:hidden;
      }
      
      form {
        margin-bottom:0px;
      }
      
    </style>
  </head>
  <body>
    <div id="content">
      <div id="userstatus">
        <div id="signedin">
          signed in as <a id="username" href="user/{{user.nickname}}/">{{user}}</a>
        </div>
        <div id="logout">
          <a href="{{signout_url}}">sign out</a>
        </div>
      </div>
      
      <div id="header">
        <h1>
          do.proje.cx
        </h1>
        <div id="explanation">
          do.proje.cx is a place for listing, tracking, and sharing your projects <a class="extrainfo" href="read_more">learn more</a>
        </div>
      </div>

      <div id="addproject">
        <a id="addprojectslink" href="add_project/">add project</a>
      </div>

      <div>
        {% for project in projects %}
        <div>
          <div class="projectline">
            <a href="/project/{{project.key.id}}/">{{ project.name }}</a>
          </div>
          <div class="projectposturl">
            <div class="posturl">
              <span class="posturlexplanation">post a url, a feed url, or a status message</span>
            </div>
            <div class="posturlformdiv">
              <form class="posturlform">
                <input class="urlinput" size="50" type="text" name="url"/>
                <input class="projectidinput" type="hidden" name="projectid" value="{{project.key.id}}"/>
                <input type="submit">
              </form>
            </div>
          </div>
        </div>
        {% endfor %}
      </div>
    </div>
  </body>
</html>